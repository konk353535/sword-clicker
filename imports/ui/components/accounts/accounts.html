<template name="override-atPwdFormBtn">
  <button type="submit" class="at-btn submit btn btn-lg btn-block btn-primary {{submitDisabled}}" id="at-btn">
    {{buttonText}}
  </button>
</template>

<template name="override-fullPageAtForm">
  <div class="container d-flex justify-content-center mt-3">
    <div style="width: 470px">
      {{> atForm}}
    </div>
  </div>
</template>

<template name="override-atError">
  <div class="at-error alert alert-danger">
    {{#each error}}
      <div>{{errorText}}</div>
    {{/each}}
  </div>
</template>

<template name="override-atNavButton">
  {{#if $eq text 'Sign Out'}}
    <a class="dropdown-item navbar-btn" style="cursor: pointer" id="at-nav-button">
      {{text}}
    </a>
  {{else}}
    <button type="button" id="at-nav-button" class="btn btn-secondary navbar-btn">{{text}}</button>
  {{/if}}
</template>

<template name="serverSelector">
  <div style="margin-bottom: 5px; font-size: 14px; font-weight: 500;">Server</div>
  <div class="dropdown">
    <button class="btn btn-secondary btn-block server-selector dropdown-toggle" type="button" id="{{selectedServer._id}}" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      {{selectedServer.name}}
    </button>
    <div class="dropdown-menu" style="width: 100%" aria-labelledby="dropdownMenuButton">
      {{#each allServers}}
        <a class="dropdown-item select-name" href="#" data-id="{{this._id}}">
          {{this.name}} <small>(created {{this.formattedCreatedAt}} ago)</small>
        </a>
      {{/each}}
    </div>
  </div>
</template>

<template name="playAsGuestBtn">
  <button type="button" class="btn btn-secondary btn-block play-as-guest-btn mt-3 {{#if creatingGuest}}disabled{{/if}}">
    {{#if creatingGuest}}
     Creating Guest Account...
    {{else}}
      Play As Guest
    {{/if}}
  </button>
  <div class="mt-1">
    By clicking <b>Play As Guest</b>, you still agree to the <a target="_blank" href="https://termsfeed.com/terms-conditions/b98f2c54772bbdad930ef49ca134b8f7">Terms of Service</a>
  </div>
  <br />
</template>

<template name="override-atPwdForm">
  <div class="at-pwd-form">
    <form role="form" id="at-pwd-form" novalidate action="#" method="POST">
      <fieldset {{disabled}}>
        {{#each fields}}
          {{> atInput}}
        {{/each}}
        {{#if showReCaptcha}}
          {{> atReCaptcha}}
        {{/if}}
        {{> atPwdFormBtn}}
        {{#if showForgotPasswordLink}}
          {{> playAsGuestBtn}}
          {{> atPwdLink}}
        {{else}}
          {{> serverSelector}}
          <div class="mt-1">
            By clicking register, you agree to the <a target="_blank" href="https://termsfeed.com/terms-conditions/b98f2c54772bbdad930ef49ca134b8f7">Terms of Service</a>
          </div>
          <div class="mt-3">
            Your email address is only used for account registration and recovery. 
            We do not share your information with any third party, and do not use trackers, analytics, or advertisements. 
            If registration is a roadblock for you, feel free to use a temporary email service, just be aware that we cannot recover your account in the event you lose access.
          </div>
        {{/if}}
      </fieldset>
    </form>
  </div>
</template>

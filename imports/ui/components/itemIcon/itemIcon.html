<template name="itemIcon">
  <div class="item-icon-container {{classes}} icon-box {{#if item.notLearnt}}not-learnt{{/if}}" style="position: relative">
    {{#if item.quality}}
      <div class="item-quality">{{item.quality}}%</div>    
    {{/if}}
    <img src="/icons/{{item.icon}}.svg" class="item-icon">
    {{#unless item.hideCount}}
      {{#if item.amount}}
        <div class="item-amount">{{> formatNumber item.amount}}</div>
      {{/if}}
    {{/unless}}
  </div>

  <!-- Icon Tooltip -->
  <div class="item-tooltip-content my-tooltip-inner">
    <h3 class='popover-title text-capitalize'>
      {{item.name}}
    </h3>
    <div class='popover-content'>
      {{#if item.description}}
        {{{item.description}}}<br />
      {{/if}}

      {{#if item.cooldown}}
        Cooldown <b>{{item.cooldown}}s</b><br />
      {{/if}}

      {{#if item.isSpell}}
        <b>{{item.casts}}</b> casts remaining.<br /><br />
      {{/if}}

      {{#unless item.hideStats}}
        {{#if item.stats}}
          {{> displayCombatStats stats=item.stats}}
        {{/if}}
      {{/unless}}

      {{#if item.required}}
        <b>Requires</b><br />
        {{> requiredItems requiredItems=item.required}}
      {{/if}}

      {{#if item.primaryAction}}
        {{#if item.primaryAction.description}}
          <b>Left Click</b> to {{item.primaryAction.description}}
        {{/if}}
      {{else}}
        <b>Sells for</b> {{item.sellPrice}} Gold<br />
        <b>Left Click</b> to sell
      {{/if}}
    </div>
  </div>

  <!-- Modal -->
  <div class="modal sellModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Selling Item</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          How many to sell?
          <form class="sell-form">
            <input class="form-control sell-amount-input" value={{sellAmount}}><br />
          </form>
          +{{ totalPrice sellAmount item.sellPrice }} Gold
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger sell-btn">Sell</button>
        </div>
      </div>
    </div>
  </div>


</template>

<template name="lobbyUnit">
  <div class="d-flex flex-column">
    <div class="d-flex battle-unit-container flex-column align-items-center flex-wrap justify-content-center px-2">
      <a href="/profile/{{unit.name}}" class="text-muted text-capitalize">
        {{unit.name}}
      </a>
      <a href="/profile/{{unit.name}}">
        <img
            src="/icons/{{unit.icon}}"
            id={{unit.id}}
            data-unit-id={{unit.id}}
            class="icon-box battle-unit
              {{#if unit.leader}}leader-icon{{/if}}
              {{#if isEnemy}}enemy-icon{{else}}friendly-icon{{/if}}
              {{#if small}}item-icon-container small{{/if}}"
        >
      </a>
      <div class="progress health-bar">
        <div class="progress-bar bg-danger" role="progressbar" style="width: {{healthPercentage}}%" aria-valuenow="{{healthPercentage}}" aria-valuemin="0" aria-valuemax="100">
          <div class="health-bar d-flex justify-content-center">
            {{> formatNumber number=unit.stats.health}}
          </div>
        </div>
      </div>
      <div class="progress energy-bar mt-1">
        <div class="progress-bar bg-warning" role="progressbar" style="width: {{energyPercentage}}%" aria-valuenow="{{energyPercentage}}" aria-valuemin="0" aria-valuemax="100">
          <div class="health-bar d-flex justify-content-center">
            {{> formatNumber number=unit.stats.energy}}
          </div>
        </div>
      </div>
    </div>
    {{#if showBuffs}}
      <div class="d-flex flex-wrap buff-container">
        {{#each unit.buffs}}
          {{#unless this.data.hideBuff}}
            {{> buffIcon buff=this small=true}}
          {{/unless}}
        {{/each}}
      </div>
    {{/if}}
  </div>
</template>

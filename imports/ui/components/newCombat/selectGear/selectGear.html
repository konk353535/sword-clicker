<template name="selectGearPage">
  <div class="container mt-2">
    <h4 class="d-flex align-items-center">
      Equipped Gear
      <button type="button" class="btn btn-secondary remove-all-gear-btn" style="margin-left: 20px;">Remove All</button>
    </h4>
    <div class="d-flex flex-wrap mb-1">
      <!-- Main Hand -->
      {{#if equippedItemsMap.mainHand}}
        {{> itemIcon item=equippedItemsMap.mainHand}}
      {{else}}
        <div class="icon-box">
          Main Hand
        </div>
      {{/if}}
      <!-- Off Hand -->
      {{#if equippedItemsMap.offHand}}
        {{> itemIcon item=equippedItemsMap.offHand}}
      {{else}}
        <div class="icon-box">
          Off Hand
        </div>
      {{/if}}
      <!-- Neck -->
      {{#if equippedItemsMap.neck}}
        {{> itemIcon item=equippedItemsMap.neck}}
      {{else}}
        <div class="icon-box">
          Neck
        </div>
      {{/if}}
      <!-- Head -->
      {{#if equippedItemsMap.head}}
        {{> itemIcon item=equippedItemsMap.head}}
      {{else}}
        <div class="icon-box">
          Head
        </div>
      {{/if}}
      <!-- Chest -->
      {{#if equippedItemsMap.chest}}
        {{> itemIcon item=equippedItemsMap.chest}}
      {{else}}
        <div class="icon-box">
          Chest
        </div>
      {{/if}}
      <!-- Legs -->
      {{#if equippedItemsMap.legs}}
        {{> itemIcon item=equippedItemsMap.legs}}
      {{else}}
        <div class="icon-box">
          Legs
        </div>
      {{/if}}
    </div>

    <div class="mb-3">
      <div class="d-flex flex-wrap justify-content-between mb-2" style="max-width: 600px">
        {{#each offenseStats}}
          <div class="d-flex flex-row mr-1" style="min-width: 145px; max-width: 145px;">
            <div class="d-flex align-items-start {{this.icon}}-tooltip-container">
              {{> helpIcon title=this.tooltipTitle content=tooltipContent icon=this.icon tiny=true}}
            </div>
            <div class="d-flex align-items-start ml-1" style="text-overflow: ellipsis;">
              {{> formatNumber number=this.value decimal=1 trimDecimal=true}}{{#if $eq this.name 'attack speed'}}/s{{/if}}{{#if $eq this.name 'critical chance'}}%{{/if}}{{#if $eq this.name 'critical damage'}}x{{/if}}
              {{#if this.maxValue}}
                - {{> formatNumber number=this.maxValue}}
              {{/if}}
            </div>
          </div>
        {{/each}}
      </div>
      <div class="d-flex flex-wrap justify-content-between mb-2" style="max-width: 600px">
        {{#each offenseStats2}}
          <div class="d-flex flex-row mr-1" style="min-width: 145px; max-width: 145px;">
            <div class="d-flex align-items-start {{this.icon}}-tooltip-container">
              {{> helpIcon title=this.tooltipTitle content=tooltipContent icon=this.icon tiny=true}}
            </div>
            <div class="d-flex align-items-start ml-1" style="text-overflow: ellipsis;">
              {{> formatNumber number=this.value decimal=1 trimDecimal=true}}{{#if $eq this.name 'force'}}%{{/if}}
              {{#if this.maxValue}}
                - {{> formatNumber number=this.maxValue}}
              {{/if}}
            </div>
          </div>
        {{/each}}
        <div class="d-flex flex-row mr-1" style="min-width: 145px; max-width: 145px;">
          <div class="d-flex align-items-start">
            <img src="/icons/invis.gif" class="tiny-icon">
          </div>
          <div class="d-flex align-items-start ml-1" style="text-overflow: ellipsis;">
          </div>
        </div>
      </div>
      <div class="d-flex flex-wrap justify-content-between" style="max-width: 600px">
        {{#each defenseStats}}
          <div class="d-flex flex-row mr-1" style="min-width: 145px; max-width: 145px;">
            <div class="d-flex align-items-start {{this.icon}}-tooltip-container">
              {{> helpIcon title=this.tooltipTitle content=tooltipContent icon=this.icon tiny=true}}
            </div>
            <div class="d-flex align-items-start ml-1" style="text-overflow: ellipsis;">
              {{> formatNumber number=this.value}}{{#if $eq this.name 'absorption'}}%{{/if}}
              {{#if this.maxValue}}
                / {{> formatNumber number=this.maxValue}}
              {{/if}}
            </div>
          </div>
        {{/each}}
      </div>
      <div class="d-flex flex-wrap justify-content-between" style="max-width: 600px">
        {{#each magicStats}}
          <div class="d-flex flex-row mr-1" style="min-width: 145px; max-width: 145px;">
            <div class="d-flex align-items-start {{this.icon}}-tooltip-container">
              {{> helpIcon title=this.tooltipTitle content=tooltipContent icon=this.icon tiny=true}}
            </div>
            <div class="d-flex align-items-start ml-1" style="text-overflow: ellipsis;">
              {{> formatNumber number=this.value decimal=1 trimDecimal=true}}{{#if $eq this.name 'healing power'}}%{{/if}}
              {{#if this.maxValue}}
                / {{> formatNumber number=this.maxValue}}
              {{/if}}
            </div>
          </div>
        {{/each}}
      </div>
    </div>

    <h4>Weapons</h4>
    <div class="d-flex flex-wrap mb-3">
      {{#each slotsMap.mainHand}}
        {{> itemIcon item=this classes="small" autoDisplay=true}}
      {{else}}
        No main hand gear
      {{/each}}
    </div>

    <h4>Off Hand</h4>
    <div class="d-flex flex-wrap mb-3">
      {{#each slotsMap.offHand}}
        {{> itemIcon item=this classes="small" autoDisplay=true}}
      {{else}}
        <div>
          No off hand gear
        </div>
      {{/each}}
    </div>

    <h4>Head Gear</h4>
    <div class="d-flex flex-wrap mb-3">
      {{#each slotsMap.head}}
        {{> itemIcon item=this classes="small" autoDisplay=true}}
      {{else}}
        No head gear
      {{/each}}
    </div>

    <h4>Amulets</h4>
    <div class="d-flex flex-wrap mb-3">
      {{#each slotsMap.neck}}
        {{> itemIcon item=this classes="small" autoDisplay=true}}
      {{else}}
        No neck gear
      {{/each}}
    </div>

    <h4>Chest Gear</h4>
    <div class="d-flex flex-wrap mb-3">
      {{#each slotsMap.chest}}
        {{> itemIcon item=this classes="small" autoDisplay=true}}
      {{else}}
        No chest gear
      {{/each}}
    </div>

    <h4>Leggings</h4>
    <div class="d-flex flex-wrap mb-3">
      {{#each slotsMap.legs}}
        {{> itemIcon item=this classes="small" autoDisplay=true}}
      {{else}}
        No leg gear
      {{/each}}
    </div>

    <p>
      <br />
    </p>

    <div class="select-battle-container">
      <button type="button" class="btn btn-primary back-to-loadout-btn">Back to loadout</button>
    </div>
  </div>
</template>

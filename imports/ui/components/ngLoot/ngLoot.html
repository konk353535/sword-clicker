<template name="ngLoot">
  <h3 class="my-2 d-flex flex-row align-items-center">
    <span class="mr-4 mt-1">Need/Greed Loot - Time Remaining: {{ battle.timer }}s</span>
    <div class="ng-help-icon-container">
      <img src="/icons/help.svg" class="extra-small-icon">
    </div>
  </h3>
  <div class="d-flex flex-row">
    <table class="table table-bordered">
      <thead>
      <tr>
        <th>Choice</th>
        <th>Item</th>
      </tr>
      </thead>
      <tbody>
      {{#each battle.myLoot}}
        <tr>
          <td>
            <button class="mr-1 btn whiteframe-4dp {{#if $eq this.ngChoice 'need'}}btn-success{{/if}} ng-selector-need" data-loot-id="{{this.lootId}}">
              Need
            </button>
            <button class="ml-1 btn whiteframe-4dp {{#if $eq this.ngChoice 'greed'}}btn-success{{/if}} ng-selector-greed" data-loot-id="{{this.lootId}}">
              Greed
            </button>
            <button class="ml-1 btn whiteframe-4dp {{#if $eq this.ngChoice 'pass'}}btn-danger{{/if}} ng-selector-pass" data-loot-id="{{this.lootId}}">
              Pass
            </button>
          </td>
          <td class="align-middle"><img src="/icons/{{this.icon}}" class="ml-1 extra-small-icon" title="{{this.itemId}}"> {{#if this.name}}<span class="text-capitalize">{{this.name}}</span>{{/if}}</td>
        </tr>
      {{/each}}
      </tbody>
    </table>
  </div>
  <div class="item-tooltip-content my-tooltip-inner" id="tooltip-{{battle._id}}">
    <h3 class='popover-title text-capitalize'>
      Need / Greed System
    </h3>
    <div class='popover-content'>
      <div style='max-width: 350px;'>
        <p>
          <b>What</b><br />
          Need / Greed is a loot system where players 
          can opt-in to rolling for an item.
        </p>
        <p>
          <b>Need</b><br />
          If one or more people select Need, only those 
          people roll for the item.
        </p>
        <p>
          <b>Greed</b><br />
          The default option, if anyone selected Need 
          then the item will not go to a player who selects 
          Greed. If no one selected Need, then everyone rolls 
          for the item.
        </p>
        <p>
          <b>Pass</b><br />
          Prevents you from needing or greeding on an item. If
          everyone passes, the item will be randomly given to
          anyone in the party as if everyone selected Greed.
        </p>
      </div>
    </div>
  </div>
</template>
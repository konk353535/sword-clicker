<template name="miningPage">

  {{> skillHeader skill=miningSkill}}

  <h2>Items</h2>
  <div class="d-flex flex-wrap">
    {{#each miningItems}}
      {{> itemIcon item=this classes="small"}}
    {{/each}}
  </div>

  <h2>Mining Upgrades</h2>
  <div class="d-flex flex-row">
    <div class="icon-box buy-miner">
        <img src="/icons/miner.svg" class="ore-icon">
        {{mining.miners}} / {{mining.maxMiners}}
    </div>
    <!-- Tooltip for buy miner icon -->
    <div class="miners-tooltip-content my-tooltip-inner">
      <h3 class='popover-title text-capitalize'>Miners</h3>
      <div class='popover-content'>
        Automatically mines ores
        <br />
        Cost: {{nextMinerCost}} Gold<br />
        <b>Click</b> to buy
      </div>
    </div>

    <div class="icon-box buy-prospector">
        <img src="/icons/prospector.svg" class="ore-icon">
        {{mining.prospectors}} / {{mining.maxProspectors}}
    </div>
    <!-- Tooltip for buy prospector icon -->
    <div class="prospectors-tooltip-content my-tooltip-inner">
      <h3 class='popover-title text-capitalize'>Prospectors</h3>
      <div class='popover-content'>
        Increase the chance of finding ores
        <br />
        Cost: {{nextProspectorCost}} Gold<br />
        <b>Click</b> to buy
      </div>
    </div>
    {{#if equippedItemsMap.pickaxe}}
      <div class="d-flex flex-column align-items-center justify-content-center equipped-pickaxe">
        {{> itemIcon item=equippedItemsMap.pickaxe}}
        <div class="d-flex">
          {{> formatNumber mining.stats.energy}} / {{mining.stats.energyStorage}}
        </div>
      </div>
      <div class="d-flex flex-column ml-3">
        <div class="d-flex align-items-center">
          {{mining.stats.attack}}<i class="lilIcon-attack mx-1"></i> Damage your pick does per click
        </div>
        <div class="d-flex align-items-center">
          {{mining.stats.energyStorage}} <i class="lilIcon-energyStorage mx-1"></i> Maximum energy your pickaxe can store
        </div>
        <div class="d-flex align-items-center">
          {{mining.stats.energyPerHit}} <i class="lilIcon-energyPerHit mx-1"></i> Energy used per click
        </div>
        <div class="d-flex align-items-center">
          {{mining.stats.energyRegen}}<i class="lilIcon-energyRegen mx-1"></i> Amount of energy regenerated per minute
        </div>
        <div class="d-flex align-items-center">
          {{mining.stats.miner}}%<i class="lilIcon-miner mx-1"></i> Percentage increase of all your miners damage
        </div>

      </div>
    {{else}}
      <div class="icon-box">
        Pickaxe
      </div>
    {{/if}}
  </div>

  <h2>Mine Shaft</h2>
  <div class="d-flex flex-row flex-wrap" style="max-width: 420px">
    {{#each miningSpaces}}
      {{> mineSpace mineSpace=this}}
    {{/each}}
  </div>
</template>

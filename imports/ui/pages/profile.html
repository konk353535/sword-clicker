<template name="profilePage">

  <!-- List of all upgrades + Time Left on them -->
  <h2 class="my-2 text-capitalize">{{username}}</h2>

  <!-- Your Skills -->
  <div class="row">
    <div class="col-md-6">
      <div class="d-flex player-skills-container flex-column">
        {{#each skills}}
          <div class="d-flex align-items-center my-1">
            <i class="lilIcon-{{this.type}} extra-small-icon mr-3"></i>
            <span class="text-center mr-3" style="min-width: 40px">{{this.level}}</span>
            {{#unless $eq this.type 'total'}}
              <div class="progress" style="flex: 1 1 auto; height: 16px;">
                <div class="progress-bar" role="progressbar" style="width: {{this.percentage}}%;" aria-valuenow="{{this.percentage}}" aria-valuemin="0" aria-valuemax="100">
                  {{this.percentage}}%
                </div>
              </div>
            {{/unless}}
          </div>
        {{/each}}
      </div>
    </div>
    <div class="col-md-6">
      <div class="d-flex flex-wrap">
        <div class="icon-box" style="border: none">
          <div class="icon-box" style="position: relative;">
            <img src="/icons/{{characterIcon}}">
            {{#if classIcon}}
              <img src="/icons/{{classIcon}}" style="border: none; position: absolute; left: -12px; top: -12px; z-index: 14; width: 48px; height: 48px;">
            {{/if}}
          </div>
        </div>
        <!-- Main Hand -->
        {{#if equippedItemsMap.mainHand}}
          {{> itemIcon item=equippedItemsMap.mainHand readOnly=true}}
        {{else}}
          <div class="icon-box">
            Main Hand
          </div>
        {{/if}}
        <!-- Off Hand -->
        {{#if equippedItemsMap.offHand}}
          {{> itemIcon item=equippedItemsMap.offHand readOnly=true}}
        {{else}}
          <div class="icon-box">
            Off Hand
          </div>
        {{/if}}
        <!-- Neck -->
        {{#if equippedItemsMap.neck}}
          {{> itemIcon item=equippedItemsMap.neck readOnly=true}}
        {{else}}
          <div class="icon-box">
            Neck
          </div>
        {{/if}}
        <!-- Head -->
        {{#if equippedItemsMap.head}}
          {{> itemIcon item=equippedItemsMap.head readOnly=true}}
        {{else}}
          <div class="icon-box">
            Head
          </div>
        {{/if}}
        <!-- Chest -->
        {{#if equippedItemsMap.chest}}
          {{> itemIcon item=equippedItemsMap.chest readOnly=true}}
        {{else}}
          <div class="icon-box">
            Chest
          </div>
        {{/if}}
        <!-- Legs -->
        {{#if equippedItemsMap.legs}}
          {{> itemIcon item=equippedItemsMap.legs readOnly=true}}
        {{else}}
          <div class="icon-box">
            Legs
          </div>
        {{/if}}
      </div>
      {{#if classFeatureUnlocked}}
        <div class="d-flex flex-wrap">
          <!-- Main Hand -->
          {{#if equippedAbilitiesMap.mainHand}}
            {{> abilityIconOther ability=equippedAbilitiesMap.mainHand}}
          {{else}}
            <div class="icon-box">
              1
            </div>
          {{/if}}
          <!-- Off Hand -->
          {{#if equippedAbilitiesMap.offHand}}
            {{> abilityIconOther ability=equippedAbilitiesMap.offHand}}
          {{else}}
            <div class="icon-box">
              2
            </div>
          {{/if}}
          <!-- Head -->
          {{#if equippedAbilitiesMap.head}}
            {{> abilityIconOther ability=equippedAbilitiesMap.head}}
          {{else}}
            <div class="icon-box">
              3
            </div>
          {{/if}}
          <!-- Chest -->
          {{#if equippedAbilitiesMap.chest}}
            {{> abilityIconOther ability=equippedAbilitiesMap.chest}}
          {{else}}
            <div class="icon-box">
              4
            </div>
          {{/if}}
          <!-- Legs -->
          {{#if equippedAbilitiesMap.legs}}
            {{> abilityIconOther ability=equippedAbilitiesMap.legs}}
          {{else}}
            <div class="icon-box">
              5
            </div>
          {{/if}}
        </div>
        <div class="d-flex flex-wrap">
          <!-- classAbil1 -->
          {{#if equippedAbilitiesMap.classAbil1}}
            {{> abilityIconOther ability=equippedAbilitiesMap.classAbil1}}
          {{else}}
            <div class="icon-box">
              6
            </div>
          {{/if}}
          <!-- classAbil2 -->
          {{#if equippedAbilitiesMap.classAbil2}}
            {{> abilityIconOther ability=equippedAbilitiesMap.classAbil2}}
          {{else}}
            <div class="icon-box">
              7
            </div>
          {{/if}}
          <!-- classAbil3 -->
          {{#if equippedAbilitiesMap.classAbil3}}
            {{> abilityIconOther ability=equippedAbilitiesMap.classAbil3}}
          {{else}}
            <div class="icon-box">
              8
            </div>
          {{/if}}
          <div class="icon-box hide-on-mobile" style="border: none; background-color: transparent !important;">
            <br />
          </div>
          <!-- Companion -->
          {{#if equippedAbilitiesMap.companion}}
            {{> abilityIconOther ability=equippedAbilitiesMap.companion}}
          {{else}}
            <div class="icon-box">
              Companion
            </div>
          {{/if}}
        </div>
      {{else}}
        <div class="d-flex flex-wrap">
          <div class="icon-box hide-on-mobile" style="border: none; background-color: transparent !important;">
            <br />
          </div>
          <!-- Main Hand -->
          {{#if equippedAbilitiesMap.mainHand}}
            {{> abilityIconOther ability=equippedAbilitiesMap.mainHand}}
          {{else}}
            <div class="icon-box">
              1
            </div>
          {{/if}}
          <!-- Off Hand -->
          {{#if equippedAbilitiesMap.offHand}}
            {{> abilityIconOther ability=equippedAbilitiesMap.offHand}}
          {{else}}
            <div class="icon-box">
              2
            </div>
          {{/if}}
          <!-- Head -->
          {{#if equippedAbilitiesMap.head}}
            {{> abilityIconOther ability=equippedAbilitiesMap.head}}
          {{else}}
            <div class="icon-box">
              3
            </div>
          {{/if}}
          <!-- Chest -->
          {{#if equippedAbilitiesMap.chest}}
            {{> abilityIconOther ability=equippedAbilitiesMap.chest}}
          {{else}}
            <div class="icon-box">
              4
            </div>
          {{/if}}
          <!-- Legs -->
          {{#if equippedAbilitiesMap.legs}}
            {{> abilityIconOther ability=equippedAbilitiesMap.legs}}
          {{else}}
            <div class="icon-box">
              5
            </div>
          {{/if}}
          <!-- Companion -->
          {{#if equippedAbilitiesMap.companion}}
            {{> abilityIconOther ability=equippedAbilitiesMap.companion}}
          {{else}}
            <div class="icon-box">
              Companion
            </div>
          {{/if}}
        </div>
      {{/if}}
    </div>
  </div>

</template>
